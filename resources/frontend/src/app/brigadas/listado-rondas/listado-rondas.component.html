<section fxLayout="column" fxLayoutGap="10px" fxLayoutAlign="start" style="padding:10px; height: 100%; overflow: auto; flex: 1 1 0%;">
    <div class="data-loading-shade" *ngIf="isLoading"><mat-spinner></mat-spinner></div>
    <section fxFlex="none" fxLayout="row" >
        <mat-card fxFlex fxLayout="row">
            <mat-form-field fxFlex appearance="fill" *ngIf="brigadas && brigadas.length > 1">
                <mat-label>Brigadas</mat-label>
                <mat-select [(ngModel)]="brigada" (selectionChange)="cambioBrigada()">
                    <mat-option *ngFor="let brigada of brigadas" [value]="brigada">
                        Distrito {{brigada.distrito.clave}} - {{brigada.distrito.descripcion}} ({{brigada.rondas.length}} Rondas)
                    </mat-option>
                </mat-select>
                <mat-hint align="end" *ngIf="brigada">Grupo #{{brigada.grupo_estrategico.folio}}</mat-hint>
            </mat-form-field>
            <mat-form-field fxFlex appearance="fill" *ngIf="brigadas && brigadas.length == 1">
                <mat-label>Grupo #{{brigada.grupo_estrategico.folio}}</mat-label>
                <input matInput value="Distrito {{brigada.distrito.clave}}: {{brigada.distrito.descripcion}}" readonly>
            </mat-form-field>
            <div fxFlex="10"></div>
            <mat-form-field fxFlex="none" *ngIf="brigada" appearance="outline">
                <mat-label>Total Brigadistas</mat-label>
                <input matInput readonly value="{{brigada.total_brigadistas | number:'1.0-0'}}">
                <button mat-icon-button matSuffix (click)="verBrigadistas()" [attr.aria-label]="'Ver Brigadistas'">
                    <mat-icon>edit</mat-icon>
                </button>
            </mat-form-field>
        </mat-card>
    </section>
    <section fxFlex style="overflow: auto;">
        <div>
            <h3>Rondas:</h3>
        </div>
        <mat-grid-list cols="5" rowHeight="1:1" *ngIf="brigada">
            <mat-grid-tile *ngIf="rondaActiva == 0">
                <div style="height: 100%; width: 100%; padding: 10px;">
                    <div class="circle nuevo" (click)="nuevaRonda()">
                        <div class="circle__inner">
                        <div class="circle__wrapper">
                            <div class="circle__content">
                                <div fxLayout="column" style="height: 100%; width: 100%;">
                                    <div fxFlex></div>
                                    <div fxFlex class="round_number">
                                        +
                                    </div>
                                    <div fxFlex="none">Nueva Ronda</div>
                                    <div fxFlex></div>
                                </div>                                
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </mat-grid-tile>
            <mat-grid-tile *ngFor="let ronda of brigada.rondas">
                <div style="height: 100%; width: 100%; padding: 10px;">
                    <div class="circle" [ngClass]="{'activo':rondaActiva == ronda.no_ronda}" (click)="editarRonda()">
                        <div class="circle__inner">
                        <div class="circle__wrapper">
                            <div class="circle__content">
                                <div fxLayout="column" style="height: 100%; width: 100%; font-size: 1em;">
                                    <div fxFlex></div>
                                    <div fxFlex class="round_number">
                                        {{ronda.no_ronda}}
                                    </div>
                                    <div fxFlex="none">Inicio: {{ronda.fecha_inicio | date:'dd/MM/yyyy'}}</div>
                                    <div fxFlex="none">Fin: {{ronda.fecha_fin | date:'dd/MM/yyyy'}}</div>
                                    <div fxFlex="none">Total Dias: {{ronda.total_dias}}</div>
                                    <div fxFlex></div>
                                </div>                                
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </mat-grid-tile>
        </mat-grid-list>
    </section>
</section>